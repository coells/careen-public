import{a as ct,e as vt,i as mt}from"../chunks/CJlZNY_a.js";import{H as ut,g as st}from"../chunks/CQYRoC2L.js";import"../chunks/DsnmJJEf.js";import{p as Y,f as b,t as A,b as _,c as G,d as e,g as s,u as n,s as o,r as t,e as g,ad as V,ap as pt}from"../chunks/D5Ph76YU.js";import{i as ot,s as W,a as T}from"../chunks/s9uzDRlK.js";import{h as xt}from"../chunks/XnOvXG1Q.js";import{l as it,a as gt,e as _t,s as tt}from"../chunks/Bfgj7hqb.js";import{t as X,f as nt,r as rt,d as dt}from"../chunks/wQ1L4kqm.js";import"../chunks/DZtWJ51l.js";import{C as lt}from"../chunks/CIT1K5zQ.js";import{C as bt}from"../chunks/CCDTDslp.js";import{D as ft}from"../chunks/CIuR0vpz.js";import{A as at}from"../chunks/_pWrI6gi.js";function ht(u,r){throw new ut(u,r)}const wt=({params:u})=>{const r=ct(u.quizId);if(!r)throw ht(404);return{quiz:r}},Zt=Object.freeze(Object.defineProperty({__proto__:null,load:wt},Symbol.toStringTag,{value:"Module"}));var yt=b('<span class="rounded-full bg-amber-50 px-3 py-1 text-xs font-semibold tracking-wide text-amber-600 uppercase ring-1 ring-amber-100"> </span>'),zt=b('<div class="mb-6 flex flex-wrap items-center gap-2"></div>'),$t=b('<div class="rounded-3xl bg-white p-6 shadow-sm ring-1 ring-amber-100 sm:p-8"><!> <h1 class="mb-3 text-3xl font-semibold text-gray-900 sm:text-4xl"> </h1> <p class="text-base text-gray-600 sm:text-lg"><!></p></div>');function qt(u,r){Y(r,!0);const l=()=>T(it,"$localizedTemplate",a),v=()=>T(X,"$t",a),[a,c]=W(),z=(i,m=V)=>{var p=yt(),q=e(p,!0);t(p),A(I=>g(q,I),[()=>v()(m())]),_(i,p)},S=n(()=>l()(r.quiz)),B=n(()=>s(S).title),D=n(()=>s(S).description),$=n(()=>r.quiz.categories);var f=$t(),P=e(f);{var x=i=>{var m=zt();vt(m,21,()=>s($),mt,(p,q)=>{z(p,()=>s(q))}),t(m),_(i,m)};ot(P,i=>{s($).length&&i(x)})}var C=o(P,2),O=e(C,!0);t(C);var M=o(C,2),H=e(M);xt(H,()=>s(D)),t(M),t(f),A(()=>g(O,s(B))),_(u,f),G(),c()}var St=b('<div class="flex flex-col gap-4 sm:flex-row"><button type="button" class="flex-1 rounded-full bg-amber-500 px-6 py-3 text-base font-semibold text-white shadow-sm transition hover:bg-amber-600 sm:px-8 sm:py-4 sm:text-lg"><div class="flex items-center justify-center gap-2"><!> </div></button></div>'),It=b('<div class="flex flex-col gap-3 sm:flex-row"><button type="button" class="flex-1 rounded-3xl bg-amber-500 px-6 py-4 text-left text-white shadow-sm transition hover:bg-amber-600"><div class="flex items-start gap-3"><!> <div><p class="text-base font-semibold"> </p> <p class="mt-1 text-xs sm:text-sm"> </p></div></div></button> <button type="button" class="rounded-3xl border border-emerald-200 bg-white px-6 py-3 text-base font-semibold text-emerald-700 transition hover:border-emerald-300 hover:text-emerald-800 sm:px-8 sm:py-4 sm:text-lg"> </button></div>'),kt=b('<div class="mt-8 border-t border-gray-100 pt-6"><!></div>');function At(u,r){Y(r,!0);const l=()=>T(nt,"$sessionStore",c),v=()=>T(gt,"$localizedDate",c),a=()=>T(X,"$t",c),[c,z]=W(),S=i=>{var m=St(),p=e(m);p.__click=P;var q=e(p),I=e(q);at(I,{class:"h-6 w-6"});var R=o(I);t(q),t(p),t(m),A(j=>g(R,` ${j??""}`),[()=>a()("Start quiz")]),_(i,m)},B=i=>{var m=It(),p=e(m);p.__click=x;var q=e(p),I=e(q);at(I,{class:"mt-0.5 h-6 w-6"});var R=o(I,2),j=e(R),J=e(j,!0);t(j);var K=o(j,2),Z=e(K);t(K),t(R),t(q),t(p);var d=o(p,2);d.__click=P;var h=e(d,!0);t(d),t(m),A((w,L,k,y)=>{g(J,w),g(Z,`${L??""}
                        ·
                        ${k??""}`),g(h,y)},[()=>a()("Resume quiz"),()=>a()("{count} confirmed answers",{count:s(f).confirmedAnswers}),()=>a()("Last updated {timestamp}",{timestamp:s(f).updatedAt}),()=>a()("Start over")]),_(i,m)},D=n(l),$=n(()=>r.quiz.quizId),f=n(()=>{const i=s(D).inProgress[s($)];if(i)return{confirmedAnswers:i.responses.filter(m=>m.isConfirmed).length,updatedAt:v()(i.updatedAt)}});function P(){dt.clearInProgress(s($)),st(rt("/quiz/[quizId]/take",{quizId:s($)}))}function x(){st(rt("/quiz/[quizId]/take",{quizId:s($)}))}var C=kt(),O=e(C);{var M=i=>{B(i)},H=i=>{S(i)};ot(O,i=>{s(f)&&s(f).confirmedAnswers>0?i(M):i(H,!1)})}t(C),_(u,C),G(),z()}pt(["click"]);const U=(u,r=V)=>{var l=Pt(),v=e(l);lt(v,{class:"mt-0.5 h-5 w-5 text-amber-500"});var a=o(v,2),c=e(a,!0);t(a),t(l),A(()=>g(c,r())),_(u,l)};var Pt=b('<li class="flex items-start gap-3"><!> <span> </span></li>'),Ct=b('<div class="mb-6 rounded-2xl bg-amber-50 p-5 ring-1 ring-amber-100 sm:p-6"><h3 class="mb-3 text-lg font-semibold text-gray-900"> </h3> <ul class="space-y-3 text-sm text-gray-600"><!> <!> <!> <!></ul></div>');function Tt(u,r){Y(r,!0);const l=()=>T(X,"$t",v),[v,a]=W();var c=Ct(),z=e(c),S=e(z,!0);t(z);var B=o(z,2),D=e(B);{let x=n(()=>l()("A high score is great — it's even better when you discover something new."));U(D,()=>s(x))}var $=o(D,2);{let x=n(()=>l()("Feel free to jump between questions whenever you like."));U($,()=>s(x))}var f=o($,2);{let x=n(()=>l()("You need at least {percent}% to pass—aim high and have fun!",{percent:r.passingScoreInPercent}));U(f,()=>s(x))}var P=o(f,2);{let x=n(()=>l()("Not at 100% yet? Retake the quiz as many times as you want!"));U(P,()=>s(x))}t(B),t(c),A(x=>g(S,x),[()=>l()("Before you begin")]),_(u,c),G(),a()}const et=(u,r=V,l=V)=>{var v=Rt(),a=e(v),c=e(a,!0);t(a);var z=o(a,2),S=e(z,!0);t(z),t(v),A(()=>{g(c,r()),g(S,l())}),_(u,v)};var Bt=b('<div class="flex items-start gap-4 rounded-2xl bg-amber-50 p-4 shadow-sm ring-1 ring-amber-100"><div class="rounded-xl bg-white p-3 text-amber-500 ring-1 ring-amber-100"><!></div> <div><p class="text-sm font-medium text-amber-700"> </p> <p class="text-xl font-semibold text-gray-900 sm:text-2xl"> </p></div></div>'),Dt=b('<div class="flex items-start gap-4 rounded-2xl bg-sky-50 p-4 shadow-sm ring-1 ring-sky-100"><div class="rounded-xl bg-white p-3 text-sky-500 ring-1 ring-sky-100"><!></div> <div><p class="text-sm font-medium text-sky-700"> </p> <p class="text-xl font-semibold text-gray-900 sm:text-2xl"> </p></div></div>'),Mt=b('<div class="flex items-start gap-4 rounded-2xl bg-emerald-50 p-4 shadow-sm ring-1 ring-emerald-100"><div class="rounded-xl bg-white p-3 text-emerald-500 ring-1 ring-emerald-100"><!></div> <div><p class="text-sm font-medium text-emerald-700"> </p> <p class="text-xl font-semibold text-gray-900 sm:text-2xl"> </p></div></div>'),Rt=b('<div class="rounded-2xl bg-white p-4 shadow-sm ring-1 ring-gray-100"><p class="text-xs font-semibold tracking-[0.2em] text-gray-500 uppercase"> </p> <p class="mt-1 text-2xl font-semibold text-gray-900"> </p></div>'),jt=b('<div class="rounded-3xl bg-white p-6 shadow-sm ring-1 ring-gray-100 sm:p-8"><div class="mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"><!> <!> <!></div> <!> <div class="mb-8 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"><!> <!> <!></div> <!></div>');function Et(u,r){Y(r,!0);const l=()=>T(nt,"$sessionStore",c),v=()=>T(it,"$localizedTemplate",c),a=()=>T(X,"$t",c),[c,z]=W(),S=d=>{var h=Bt(),w=e(h),L=e(w);ft(L,{class:"h-6 w-6"}),t(w);var k=o(w,2),y=e(k),Q=e(y,!0);t(y);var E=o(y,2),F=e(E,!0);t(E),t(k),t(h),A(N=>{g(Q,N),g(F,s(x))},[()=>a()("Questions")]),_(d,h)},B=d=>{var h=Dt(),w=e(h),L=e(w);bt(L,{class:"h-6 w-6"}),t(w);var k=o(w,2),y=e(k),Q=e(y,!0);t(y);var E=o(y,2),F=e(E);t(E),t(k),t(h),A(N=>{g(Q,N),g(F,`~${s(C)??""} min`)},[()=>a()("Estimated time")]),_(d,h)},D=d=>{var h=Mt(),w=e(h),L=e(w);lt(L,{class:"h-6 w-6"}),t(w);var k=o(w,2),y=e(k),Q=e(y,!0);t(y);var E=o(y,2),F=e(E);t(E),t(k),t(h),A(N=>{g(Q,N),g(F,`${s(O)??""}%`)},[()=>a()("Passing score")]),_(d,h)},$=n(l),f=n(()=>r.quiz.quizId),P=n(()=>v()(r.quiz)),x=n(()=>s(P).questions.length),C=n(()=>_t(s(x))),O=n(()=>tt(r.quiz.passingScore)),M=n(()=>{const d=dt.getRecentAttemptsSummary(s($),s(f));return{attemptsCount:d.attemptsCount,bestScoreInPercent:d.bestScore?tt(d.bestScore):null,lastScoreInPercent:d.lastScore?tt(d.lastScore):null}});var H=jt(),i=e(H),m=e(i);S(m);var p=o(m,2);B(p);var q=o(p,2);D(q),t(i);var I=o(i,2);Tt(I,{get passingScoreInPercent(){return s(O)}});var R=o(I,2),j=e(R);{let d=n(()=>a()("Attempts"));et(j,()=>s(d),()=>s(M).attemptsCount)}var J=o(j,2);{let d=n(()=>a()("Best score"));et(J,()=>s(d),()=>s(M).bestScoreInPercent??"-")}var K=o(J,2);{let d=n(()=>a()("Last score"));et(K,()=>s(d),()=>s(M).lastScoreInPercent??"-")}t(R);var Z=o(R,2);At(Z,{get quiz(){return r.quiz}}),t(H),_(u,H),G(),z()}var Ht=b('<div class="mx-auto max-w-4xl space-y-8"><!> <!></div>');function te(u,r){Y(r,!0);const l=n(()=>r.data.quiz);var v=Ht(),a=e(v);qt(a,{get quiz(){return s(l)}});var c=o(a,2);Et(c,{get quiz(){return s(l)}}),t(v),_(u,v),G()}export{te as component,Zt as universal};
