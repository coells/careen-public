import"../chunks/DsnmJJEf.js";import{y as te,b as k,p as D,f as A,g as t,u as v,r as a,c as H,d as o,s as b,t as P,e as w,ap as re,a as ae,ar as se,a6 as X}from"../chunks/D5Ph76YU.js";import{s as N,a as E,i as U}from"../chunks/s9uzDRlK.js";import{r as oe,t as G,i as ne,s as ie,j as le,b as W,a as Z,d as ce,f as de}from"../chunks/wQ1L4kqm.js";import{e as K,b as ue}from"../chunks/CJlZNY_a.js";import{_ as ve}from"../chunks/DZtWJ51l.js";import{Q as ge}from"../chunks/hHAAs-Mt.js";import{c as pe}from"../chunks/DOWxRgYy.js";import{C as me,a as Y}from"../chunks/FRm5mXEu.js";import{D as ee}from"../chunks/CIuR0vpz.js";import{c as he}from"../chunks/CAv0izcw.js";import{C as fe}from"../chunks/CCDTDslp.js";import{s as be,r as xe}from"../chunks/CzsA1kg6.js";var ye=te('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 0 1 0 2.828l-7 7a2 2 0 0 1-2.828 0l-7-7A1.994 1.994 0 0 1 3 12V7a4 4 0 0 1 4-4z"></path>');function _e(_,r){const s=xe(r,["$$slots","$$events","$$legacy"]);ve(_,be(()=>s,{children:(c,y)=>{var x=ye();k(c,x)},$$slots:{default:!0}}))}var Ce=A('<section><div class="mb-6"><div class="flex items-center gap-3"><div class="h-1 w-12 rounded-full bg-amber-600"></div> <h2 class="text-3xl font-bold text-gray-900"> </h2></div> <p class="mt-2 text-gray-600"> </p></div> <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3"></div></section>'),$e=A('<div class="space-y-12"></div>');function ze(_,r){D(r,!0);const s=()=>E(G,"$t",c),[c,y]=N(),x=(n,u)=>{let d=()=>u?.().category,m=()=>u?.().quizzes;var h=Ce(),g=o(h),Q=o(g),$=b(o(Q),2),L=o($,!0);a($),a(Q);var S=b(Q,2),O=o(S,!0);a(S),a(g);var I=b(g,2);K(I,21,m,f=>f.id,(f,i)=>{{let T=v(()=>oe("/quiz/[quizId]",{quizId:t(i).id}));ge(f,{get categories(){return t(i).categories},get title(){return t(i).title},get description(){return t(i).description},get questionCount(){return t(i).questionCount},get estimatedTime(){return t(i).estimatedTime},get href(){return t(T)}})}}),a(I),a(h),P((f,i)=>{w(L,f),w(O,i)},[()=>s()(d()),()=>s()("{count} quizzes available",{count:String(m().length)})]),k(n,h)},C=v(()=>r.sections??[]);var p=$e();K(p,21,()=>t(C),n=>n.category,(n,u)=>{x(n,()=>t(u))}),a(p),k(_,p),H(),y()}var Se=A('<button type="button" class="rounded-full bg-gray-200 px-3 py-1 text-xs font-medium text-gray-600 transition hover:bg-gray-300"> </button>'),ke=A('<label class="block text-sm font-semibold text-gray-700" for="quiz-search"> </label> <div class="mt-2 flex items-center rounded-full border border-gray-200 bg-gray-50 pr-2 focus-within:border-amber-400"><input id="quiz-search" name="quiz-search" type="search" class="flex-1 rounded-full border-none bg-transparent px-4 py-2 text-sm text-gray-700 focus:outline-none"/> <!></div>',1),we=A('<button type="button"> </button>'),Qe=A('<section class="space-y-4 rounded-3xl bg-white p-6 shadow-sm ring-1 ring-gray-100"><div class="flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between"><div class="flex-1"><!></div> <div class="flex flex-wrap gap-2"></div></div></section>');function Te(_,r){D(r,!0);const s=()=>E(G,"$t",c),[c,y]=N(),x=f=>{var i=ke(),T=ae(i),F=o(T,!0);a(T);var q=b(T,2),j=o(q);le(j),j.__input=h;var V=b(j,2);{var R=M=>{var e=Se();e.__click=Q;var l=o(e,!0);a(e),P(z=>w(l,z),[()=>s()("Clear")]),k(M,e)};U(V,M=>{t(u)&&M(R)})}a(q),P((M,e)=>{w(F,M),ne(j,t(d)),ie(j,"placeholder",e)},[()=>s()("Search quizzes"),()=>s()("Search by title, topic, or keywords")]),k(f,i)},C=(f,i)=>{let T=()=>i?.().category,F=()=>i?.().isSelected;var q=we();q.__click=()=>g(T());var j=o(q,!0);a(q),P(V=>{W(q,1,`rounded-full border px-4 py-2 text-sm transition ${F()?"border-amber-400 bg-amber-100 text-amber-700":"border-gray-200 bg-white text-gray-700 hover:border-amber-200"}`),w(j,V)},[()=>s()(T())]),k(f,q)},p=pe(),n=v(()=>r.categoryOptions??[]),u=v(()=>!!r.hasActiveSearch),d=v(()=>r.searchTerm??""),m=v(()=>r.selectedCategory??"All");function h(f){const i=f.currentTarget?.value??"";p("search",i)}function g(f){p("selectCategory",f)}function Q(){p("clearSearch")}var $=Qe(),L=o($),S=o(L),O=o(S);x(O),a(S);var I=b(S,2);K(I,20,()=>t(n),f=>f,(f,i)=>{C(f,()=>({category:i,isSelected:t(m)===i}))}),a(I),a(L),a($),k(_,$),H(),y()}re(["input","click"]);var qe=A('<h1 class="hero-pop mb-6 text-4xl leading-tight font-semibold tracking-tight sm:mb-8 sm:text-5xl"> <!> <br class="hidden sm:block"/> <!> </h1>');function Ae(_,r){D(r,!0);const s=()=>E(G,"$t",c),[c,y]=N();me(_,{children:(x,C)=>{var p=qe(),n=o(p),u=b(n);{let g=v(()=>s()("quizzes"));Y(u,{get text(){return t(g)},class:"-rotate-1"})}var d=b(u),m=b(d,3);{let g=v(()=>s()("thoughtful"));Y(m,{get text(){return t(g)},class:"rotate-1"})}var h=b(m);a(p),P((g,Q,$)=>{w(n,`${g??""} `),w(d,` ${Q??""} `),w(h,` ${$??""}`)},[()=>s()("Bite-size"),()=>s()("and"),()=>s()("feedback")]),k(x,p)},$$slots:{default:!0}}),H(),y()}var je=A('<div class="rounded-xl border border-gray-200 bg-gray-50 p-12 text-center"><div class="mb-4 flex justify-center"><!></div> <h3 class="mb-2 text-xl font-semibold text-gray-900"> </h3> <p class="text-gray-600"> </p></div>');function Ie(_,r){D(r,!0);const s=()=>E(G,"$t",c),[c,y]=N();var x=je(),C=o(x),p=o(C);ee(p,{class:"h-16 w-16 text-gray-400"}),a(C);var n=b(C,2),u=o(n,!0);a(n);var d=b(n,2),m=o(d,!0);a(d),a(x),P((h,g)=>{w(u,h),w(m,g)},[()=>s()("No quizzes available"),()=>s()("Adjust your filters or search to discover available quizzes.")]),k(_,x),H(),y()}const Le=(_,r)=>{let s=()=>r?.().icon,c=()=>r?.().label,y=()=>r?.().value,x=()=>r?.().ringClass,C=()=>r?.().backgroundClass,p=()=>r?.().iconClass;var n=Be(),u=o(n),d=o(u),m=o(d);{let S=v(()=>`h-6 w-6 ${p()}`);he(m,s,(O,I)=>{I(O,{get class(){return t(S)}})})}a(d);var h=b(d,2),g=o(h),Q=o(g,!0);a(g);var $=b(g,2),L=o($,!0);a($),a(h),a(u),a(n),P(()=>{W(n,1,`rounded-2xl bg-white p-6 shadow-sm ring-1 ${x()}`),W(d,1,`rounded-xl ${C()} p-3`),w(Q,c()),w(L,y())}),k(_,n)};var Be=A('<div><div class="flex items-center"><div><!></div> <div class="ml-4"><p class="text-sm font-medium text-gray-600"> </p> <p class="text-2xl font-bold text-gray-900"> </p></div></div></div>'),Ee=A('<div class="grid grid-cols-1 gap-4 md:grid-cols-3"></div>');function Oe(_,r){D(r,!0);const s=()=>E(Z,"$activeLocale",y),c=()=>E(G,"$t",y),[y,x]=N(),C=v(()=>r.totalQuizzes??0),p=v(()=>r.categoryCount??0),n=v(()=>r.totalQuestions??0),u=v(()=>(s(),[{icon:ee,label:c()("Total Quizzes"),ringClass:"ring-orange-100",backgroundClass:"bg-gray-50",iconClass:"text-orange-600",value:t(C)},{icon:_e,label:c()("Categories"),ringClass:"ring-purple-100",backgroundClass:"bg-gray-50",iconClass:"text-purple-600",value:t(p)},{icon:fe,label:c()("Total Questions"),ringClass:"ring-cyan-100",backgroundClass:"bg-gray-50",iconClass:"text-cyan-600",value:t(n)}]));var d=Ee();K(d,21,()=>t(u),m=>m.label,(m,h)=>{Le(m,()=>t(h))}),a(d),k(_,d),H(),x()}var Me=A('<div class="space-y-10"><!> <!> <!> <!> <!></div>');function Ye(_,r){D(r,!0);const s=()=>E(de,"$sessionStore",y),c=()=>E(Z,"$activeLocale",y),[y,x]=N(),C=ue(),p=["All",...Array.from(new Set(C.flatMap(e=>e.categories))).sort((e,l)=>e.localeCompare(l))];let n=v(s),u=se("");const d=v(()=>t(n).preferences.catalogFilter??"All"),m=v(()=>t(u).trim().toLowerCase()),h=v(()=>(c(),C.filter(e=>{if(!(t(d)==="All"||e.categories.includes(t(d))))return!1;if(!t(m))return!0;const z=S(e,c());return[z?.title,z?.description,e.categories.join(" ")].filter(Boolean).join(" ").toLowerCase().includes(t(m))}))),g=v(()=>{const e={};return t(h).forEach(l=>{l.categories.forEach(z=>{e[z]||(e[z]=[]),e[z].push(l)})}),Object.entries(e).sort(([l],[z])=>l.localeCompare(z)).map(([l,z])=>({category:l,quizzes:z}))}),Q=v(()=>t(h).reduce((e,l)=>e+(S(l,c())?.questions.length??0),0)),$=v(()=>(c(),t(g).map(({category:e,quizzes:l})=>{const z=l.map(B=>{const J=S(B,c());return J?{id:B.quizId,categories:B.categories,title:J.title,description:J.description,questionCount:J.questions.length,estimatedTime:L(B),passingScore:B.passingScore}:null}).filter(B=>B!==null);return{category:e,quizzes:z}}).filter(e=>e.quizzes.length>0)));function L(e){const l=S(e,c())?.questions.length||0;return Math.ceil(l*.8)}function S(e,l){return e.templates[l]??e.templates.en??Object.values(e.templates)[0]}function O(e){ce.updatePreferences({catalogFilter:e})}function I(e){X(u,e,!0)}function f(){X(u,"")}var i=Me(),T=o(i);Ae(T,{});var F=b(T,2);{let e=v(()=>!!t(m));Te(F,{get categoryOptions(){return p},get searchTerm(){return t(u)},get selectedCategory(){return t(d)},get hasActiveSearch(){return t(e)},$$events:{search:l=>I(l.detail),selectCategory:l=>O(l.detail),clearSearch:f}})}var q=b(F,2);Oe(q,{get totalQuizzes(){return t(h).length},get categoryCount(){return t(g).length},get totalQuestions(){return t(Q)}});var j=b(q,2);{var V=e=>{ze(e,{get sections(){return t($)}})};U(j,e=>{t($).length>0&&e(V)})}var R=b(j,2);{var M=e=>{Ie(e,{})};U(R,e=>{t(h).length===0&&e(M)})}a(i),k(_,i),H(),x()}export{Ye as component};
