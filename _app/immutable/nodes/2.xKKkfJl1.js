import"../chunks/DsnmJJEf.js";import{a9 as re,p as V,f as D,t as F,b as S,c as A,e as g,d as s,r as t,s as i,X as ge,T as be,F as e,V as a,U as oe,a as ie,a5 as _e}from"../chunks/DYM3if8Z.js";import{s as E,a as I,i as ee}from"../chunks/C7t0kvEG.js";import{a as ne,c as le,t as K,b as te,s as Z}from"../chunks/CwuGiosH.js";import{a as de,e as $e,C as he,g as ze}from"../chunks/C7JOgiKc.js";import{r as J}from"../chunks/DRm2eNDt.js";import{Q as ye,a as we}from"../chunks/DtQ2aSKR.js";import{H as qe,a as ae}from"../chunks/CfONtwwO.js";import{h as Ie}from"../chunks/C2rEQ277.js";import{g as Qe}from"../chunks/Dj72RIEW.js";function Se(n,l="en"){return new Date(n).toLocaleDateString(l=="en"?"en-US":l,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}function ce(n){return Math.ceil(n*.8)}const ke=re(ne,n=>l=>Se(l,n)),se=re(ne,n=>l=>l.templates[n]||l.templates.en);var Te=D('<div><div class="mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"><h2 class="text-2xl font-bold text-gray-900"> </h2> <a class="text-sm font-medium text-amber-700 hover:text-amber-800"> <span aria-hidden="true">→</span></a></div> <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"></div></div>');function Ce(n,l){V(l,!0);const b=()=>I(K,"$t",d),k=()=>I(se,"$localizedTemplate",d),[d,y]=E(),w=(u,q=be)=>{const T=a(()=>{const{quizId:m,categories:v}=q();return{quizId:m,categories:v}}),C=a(()=>{const{title:m,description:v,questions:P}=k()(q());return{title:m,description:v,questions:P}});{let m=a(()=>ce(e(C).questions.length)),v=a(()=>J("/quiz/[id]",{id:e(T).quizId}));ye(u,{get categories(){return e(T).categories},get title(){return e(C).title},get description(){return e(C).description},get questionCount(){return e(C).questions.length},get estimatedTime(){return e(m)},get href(){return e(v)}})}},_=de();var p=Te(),x=s(p),f=s(x),z=s(f,!0);t(f);var o=i(f,2),c=s(o,!0);ge(),t(o),t(x);var L=i(x,2);$e(L,21,()=>_,u=>u.quizId,(u,q)=>{w(u,()=>e(q))}),t(L),t(p),F((u,q,T)=>{g(z,u),le(o,"href",q),g(c,T)},[()=>b()("Featured Quizzes"),()=>J("/quizzes"),()=>b()("View all")]),S(n,p),A(),y()}var De=D('<h1 class="hero-pop mb-6 text-4xl leading-tight font-semibold tracking-tight sm:mb-8 sm:text-5xl"> <!> <br class="hidden sm:block"/> <!></h1>');function Le(n,l){V(l,!0);const b=()=>I(K,"$t",k),[k,d]=E();qe(n,{children:(y,w)=>{var _=De(),p=s(_),x=i(p);{let o=a(()=>b()("joyfully"));ae(x,{get text(){return e(o)},class:"-rotate-1"})}var f=i(x,3),z=i(f);{let o=a(()=>b()("single day"));ae(z,{get text(){return e(o)},class:"rotate-1"})}t(_),F((o,c)=>{g(p,`${o??""} `),g(f,` ${c??""} `)},[()=>b()("Learn"),()=>b()("every")]),S(y,_)},$$slots:{default:!0}}),A(),d()}var Pe=D('<div class="rounded-3xl border border-amber-100 bg-amber-50/60 p-5 shadow-sm sm:p-6"><div class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between"><div class="space-y-2"><div class="text-xs font-semibold tracking-[0.25em] text-amber-600 uppercase"> </div> <div class="text-xl font-semibold text-gray-900 sm:text-2xl"> </div> <p class="text-sm text-gray-700"><!></p> <div class="flex flex-wrap items-center gap-4 text-sm text-gray-700"><span class="inline-flex items-center gap-1"><!> </span> <span class="inline-flex items-center gap-1"><!> </span></div></div> <div class="flex flex-wrap items-center gap-2"><a class="inline-flex items-center gap-2 rounded-full bg-amber-500 px-5 py-2 text-sm font-semibold whitespace-nowrap text-white shadow-sm transition hover:bg-amber-600"> </a></div></div></div>');function Re(n,l){V(l,!0);const b=()=>I(te,"$sessionStore",y),k=()=>I(se,"$localizedTemplate",y),d=()=>I(K,"$t",y),[y,w]=E(),_=a(b),p=de(),x=p.filter(m=>!e(_).attempts[m.quizId]?.some(v=>v.passed)),f=(()=>{const m=x.length?x:p,v=Math.floor(Math.random()*m.length);return m.length?m[v]:null})(),z=a(()=>f?k()(f):null),o=a(()=>f?.quizId),c=a(()=>e(z)?.title),L=a(()=>e(z)?.description),u=a(()=>e(z)?.questions.length);var q=oe(),T=ie(q);{var C=m=>{var v=Pe(),P=s(v),H=s(P),M=s(H),$=s(M,!0);t(M);var r=i(M,2),Q=s(r,!0);t(r);var h=i(r,2),R=s(h);Ie(R,()=>e(L)),t(h);var N=i(h,2),j=s(N),X=s(j);we(X,{class:"h-4 w-4 text-amber-600"});var O=i(X);t(j);var B=i(j,2),U=s(B);he(U,{class:"h-4 w-4 text-amber-600"});var W=i(U);t(B),t(N),t(H);var G=i(H,2),Y=s(G),me=s(Y,!0);t(Y),t(G),t(P),t(v),F((ue,ve,pe,xe,fe)=>{g($,ue),g(Q,e(c)),g(O,` ${ve??""}`),g(W,` ${pe??""}`),le(Y,"href",xe),g(me,fe)},[()=>d()("Try today"),()=>d()("{count} questions",{count:e(u)}),()=>d()("~{minutes} min",{minutes:ce(e(u))}),()=>J("/quiz/[id]",{id:e(o)}),()=>d()("Take Quiz")]),S(m,v)};ee(T,m=>{e(z)&&m(C)})}S(n,q),A(),w()}var je=D('<p class="text-sm text-gray-700"> </p>'),Fe=D('<button type="button" class="inline-flex items-center gap-2 rounded-full bg-amber-500 px-5 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-amber-600"> </button>'),He=D('<button type="button" class="inline-flex items-center gap-2 rounded-full border border-amber-300 bg-white px-5 py-2 text-sm font-semibold text-amber-700 transition hover:border-amber-400 hover:text-amber-800"> </button>'),Me=D('<div class="rounded-3xl border border-amber-100 bg-amber-50/60 p-5 shadow-sm sm:p-6"><div class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between"><div class="space-y-2"><div class="text-xs font-semibold tracking-[0.25em] text-amber-600 uppercase"> </div> <div class="text-xl font-semibold text-gray-900 sm:text-2xl"> </div> <!></div> <div class="flex flex-wrap items-center gap-2"><!> <!></div></div></div>');function Be(n,l){V(l,!0);const b=()=>I(te,"$sessionStore",w),k=()=>I(se,"$localizedTemplate",w),d=()=>I(K,"$t",w),y=()=>I(ke,"$localizedDate",w),[w,_]=E(),p=$=>{var r=je(),Q=s(r);t(r),F((h,R)=>g(Q,`${h??""}
        ·
        ${R??""}`),[()=>d()("{answered}/{total} questions confirmed",{answered:e(C),total:e(T)}),()=>e(o)?d()("Last updated {timestamp}",{timestamp:y()(e(o).updatedAt)}):""]),S($,r)},x=$=>{var r=Fe();r.__click=m;var Q=s(r,!0);t(r),F(h=>g(Q,h),[()=>d()("Resume")]),S($,r)},f=$=>{var r=He();r.__click=v;var Q=s(r,!0);t(r),F(h=>g(Q,h),[()=>d()("Dismiss")]),S($,r)};let z=a(b);const o=a(()=>Z.getLastInProgress(e(z))),c=a(()=>e(o)?ze(e(o).quizId):null),L=a(()=>e(c)?k()(e(c)):null),u=a(()=>e(c)?.quizId),q=a(()=>e(L)?.title),T=a(()=>e(L)?.questions.length),C=a(()=>e(o)?.responses.filter($=>$.isConfirmed).length);function m(){e(u)&&Qe(J("/quiz/[id]/take",{id:e(u)}))}function v(){e(u)&&Z.clearInProgress(e(u))}var P=oe(),H=ie(P);{var M=$=>{var r=Me(),Q=s(r),h=s(Q),R=s(h),N=s(R,!0);t(R);var j=i(R,2),X=s(j,!0);t(j);var O=i(j,2);p(O),t(h);var B=i(h,2),U=s(B);x(U);var W=i(U,2);f(W),t(B),t(Q),t(r),F(G=>{g(N,G),g(X,e(q))},[()=>d()("Resume quiz")]),S($,r)};ee(H,$=>{e(c)&&$(M)})}S(n,P),A(),_()}_e(["click"]);var Ue=D('<div class="space-y-8"><!> <!> <!></div>');function Ye(n,l){V(l,!0);const b=()=>I(te,"$sessionStore",k),[k,d]=E(),y=a(b),w=a(()=>!!Z.getLastInProgress(e(y)));var _=Ue(),p=s(_);Le(p,{});var x=i(p,2);{var f=c=>{Be(c,{})},z=c=>{Re(c,{})};ee(x,c=>{e(w)?c(f):c(z,!1)})}var o=i(x,2);Ce(o,{}),t(_),S(n,_),A(),d()}export{Ye as component};
