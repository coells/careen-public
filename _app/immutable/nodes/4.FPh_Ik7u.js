import"../chunks/DsnmJJEf.js";import{v as ce,V as pe,p as J,h as Y,i as U,j as E,k as X,f as j,d as a,s as o,r as t,t as I,e as i,b as T,c as Z,m as e,u as n,g as ge,n as le,T as _e,U as de,a as ue}from"../chunks/QPPwlIfO.js";import{i as ne}from"../chunks/CyZThD_T.js";import{g as ve}from"../chunks/BNtebal9.js";import{r as me}from"../chunks/CQ_reyox.js";import{p as be}from"../chunks/DEcvNybs.js";import{u as ye,D as $,l as ee,t as te,s as H,c as we,d as ke,p as ze,v as qe,w as Le}from"../chunks/CymQZYLV.js";import{e as Se,i as Te,g as Qe}from"../chunks/DAuvrMPI.js";import{N as Ae}from"../chunks/DyIdXPC9.js";function Me(_,r,y,k){var d=_.__style;if(ce||d!==r){var u=ye(r);(!ce||u!==_.getAttribute("style"))&&(u==null?_.removeAttribute("style"):_.style.cssText=u),_.__style=r}return k}const Ce=!1,Ne=!0,Pe=!1,ct=Object.freeze(Object.defineProperty({__proto__:null,csr:Ne,prerender:Pe,ssr:Ce},Symbol.toStringTag,{value:"Module"}));var je=j('<h2 class="mb-2 text-2xl font-semibold text-amber-800"> </h2>'),Be=j('<div class="flex flex-col gap-3 sm:flex-row sm:justify-center"><button type="button" class="rounded-full bg-amber-500 px-6 py-3 text-sm font-semibold text-white transition hover:bg-amber-600"> </button> <button type="button" class="rounded-full border border-gray-200 bg-white px-6 py-3 text-sm font-semibold text-gray-700 transition hover:border-amber-200 hover:text-amber-600"> </button></div>'),De=j('<div class="mx-auto max-w-4xl"><div class="rounded-xl border border-amber-200 bg-amber-50 p-8 text-center"><!> <p class="mb-6 text-amber-700"> </p> <!></div></div>');function Ie(_,r){J(r,!0);const y=l=>{var v=je(),g=a(v,!0);t(v),I(w=>i(g,w),[()=>f("Attempt Not Found")]),T(l,v)},k=l=>{var v=Be(),g=a(v);g.__click=z;var w=a(g,!0);t(g);var M=o(g,2);M.__click=m;var L=a(M,!0);t(M),t(v),I((B,N)=>{i(w,B),i(L,N)},[()=>f("View quiz details"),()=>f("Back to Dashboard")]),T(l,v)};let d=Y(U($));const u=ee.subscribe(l=>{E(d,l,!0)});function f(l,v){return te(l,{...v,locale:e(d)})}function m(){r.onNavigateHome?.()}function z(){r.onViewQuiz?.()}X(()=>{u()});var x=De(),c=a(x),s=a(c);y(s);var b=o(s,2),q=a(b,!0);t(b);var h=o(b,2);k(h),t(c),t(x),I(l=>i(q,l),[()=>f("We couldn't find that quiz attempt. It may have been removed after clearing your progress.")]),T(_,x),Z()}pe(["click"]);var Ve=j('<div class="flex items-center gap-2 text-sm text-gray-500"><button type="button" class="transition hover:text-amber-600"> </button> <span>/</span> <button type="button" class="transition hover:text-amber-600"> </button> <span>/</span> <span class="font-medium text-gray-900"> </span></div>');function Fe(_,r){J(r,!0);let y=Y(U($));const k=ee.subscribe(h=>{E(y,h,!0)});function d(h,l){return te(h,{...l,locale:e(y)})}function u(){r.onNavigateHome?.()}function f(){r.onViewQuiz?.()}X(()=>{k()});var m=Ve(),z=a(m);z.__click=u;var x=a(z,!0);t(z);var c=o(z,4);c.__click=f;var s=a(c,!0);t(c);var b=o(c,4),q=a(b,!0);t(b),t(m),I((h,l)=>{i(x,h),i(s,r.quizTitle),i(q,l)},[()=>d("Dashboard"),()=>d("Results")]),T(_,m),Z()}pe(["click"]);var He=ge('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>'),Oe=ge('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>'),Re=j('<div class="mb-3 flex justify-center"><div><svg class="h-10 w-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><!></svg></div></div>'),Ye=j("<div><!> <h2> </h2> <p> </p></div>");function Ue(_,r){J(r,!0);const y=v=>{var g=Re(),w=a(g),M=a(w),L=a(M);{var B=S=>{var Q=He();T(S,Q)},N=S=>{var Q=Oe();T(S,Q)};ne(L,S=>{r.passed?S(B):S(N,!1)})}t(M),t(w),t(g),I(()=>H(w,1,`rounded-full p-3 shadow-sm ${e(m)}`)),T(v,g)};let k=Y(U($));const d=ee.subscribe(v=>{E(k,v,!0)});function u(v,g){return te(v,{...g,locale:e(k)})}const f=n(()=>r.passed?"bg-emerald-50 ring-emerald-100":"bg-amber-50 ring-amber-100"),m=n(()=>r.passed?"bg-emerald-400 text-white":"bg-amber-400 text-white"),z=n(()=>r.passed?u("Nice work!"):u("Keep going!")),x=n(()=>r.passed?u("You passed the quiz. Celebrate the progress you made today."):u("This attempt didn't pass, but every try sharpens your understanding."));X(()=>{d()});var c=Ye(),s=a(c);y(s);var b=o(s,2),q=a(b,!0);t(b);var h=o(b,2),l=a(h,!0);t(h),t(c),I(()=>{H(c,1,`rounded-3xl p-7 text-center shadow-sm ring-1 ${e(f)}`),H(b,1,`mb-2 text-3xl font-semibold ${r.passed?"text-emerald-700":"text-amber-700"}`),i(q,e(z)),H(h,1,`text-sm ${r.passed?"text-emerald-700/80":"text-amber-700/80"}`),i(l,e(x))}),T(_,c),Z()}var Ee=j('<div class="rounded-3xl border border-amber-100/40 bg-white/90 p-6 shadow-sm sm:p-8"><div class="space-y-6"><div><h2 class="text-xs font-semibold tracking-[0.25em] text-amber-600 uppercase"> </h2> <h3 class="mt-2 text-xl font-semibold text-gray-900 sm:text-2xl"> </h3> <p class="mt-2 text-sm text-gray-600"> </p></div> <div><p class="text-sm text-gray-700"> <span class="font-semibold text-gray-900"> </span> </p> <div class="mt-3 h-3 overflow-hidden rounded-full bg-gray-200"><div></div></div> <div class="mt-2 flex flex-wrap items-center justify-between gap-2 text-xs font-medium text-gray-500"><span> </span> <span class="text-right"> </span></div></div> <div><h4 class="mb-2 text-base font-semibold"> </h4> <p> </p></div></div></div>');function We(_,r){J(r,!0);let y=Y(U($));const k=ee.subscribe(F=>{E(y,F,!0)});function d(F,se){return te(F,{...se,locale:e(y)})}const u=n(()=>Math.min(100,Math.max(0,r.scorePercentage))),f=n(()=>Math.min(100,Math.max(0,r.passingScorePercentage))),m=n(()=>Math.round(e(u))),z=n(()=>Math.round(e(f))),x=n(()=>r.passed?"bg-emerald-400":"bg-amber-400"),c=n(()=>{if(r.passed)return d("Goal reached");const F=Math.max(0,e(z)-e(m));return F>0?d("{gap}% more to reach goal",{values:{gap:String(F)}}):d("Right on the edge—almost there")}),s=[{min:100,title:"Flawless finish",body:"Every answer landed. Take a bow and share the win while it's fresh."},{min:90,title:"Mastery unlocked",body:"You're cruising at the top tier. A quick recap keeps that mastery sharp."},{min:80,title:"Strong command",body:"Most questions clicked. Sweep through the tricky notes and you'll be unstoppable."},{min:70,title:"Solid progress",body:"You're above the pass lane. Tighten a few edges and aim even higher next round."},{min:60,title:"On the rise",body:"Momentum is building. Revisit explanations, then swing back for the breakthrough."},{min:50,title:"Halfway there",body:"You've built a solid base. Reinforce the weak spots and you'll level up fast."},{min:0,title:"Warm-up phase",body:"Use the review to map the gaps, then retake while the material is fresh in mind."}],b=n(()=>s.find(se=>e(m)>=se.min)??s.at(-1)),q=n(()=>d(e(b).title)),h=n(()=>d(e(b).body));X(()=>{k()});var l=Ee(),v=a(l),g=a(v),w=a(g),M=a(w,!0);t(w);var L=o(w,2),B=a(L,!0);t(L);var N=o(L,2),S=a(N,!0);t(N),t(g);var Q=o(g,2),O=a(Q),W=a(O),p=o(W),C=a(p);t(p);var ae=o(p);t(O);var R=o(O,2),G=a(R);t(R);var P=o(R,2),A=a(P),D=a(A,!0);t(A);var V=o(A,2),K=a(V,!0);t(V),t(P),t(Q);var re=o(Q,2),oe=a(re),xe=a(oe,!0);t(oe);var ie=o(oe,2),he=a(ie,!0);t(ie),t(re),t(v),t(l),I((F,se,fe)=>{i(M,F),i(B,r.quizTitle),i(S,r.quizDescription),i(W,`${se??""} `),i(C,`${r.correctAnswers??""}/${r.totalQuestions??""}`),i(ae,` (${e(m)??""}%).`),H(G,1,`h-full rounded-full transition-all ${e(x)}`),Me(G,`width: ${e(u)}%`),i(D,fe),i(K,e(c)),H(re,1,`rounded-2xl p-5 text-sm ${r.passed?"bg-emerald-50/80 text-emerald-700":"bg-amber-50/80 text-amber-700"}`),i(xe,e(q)),i(he,e(h))},[()=>d("Performance summary"),()=>d("Your score is"),()=>d("Passing score · {percent}%",{values:{percent:String(e(z))}})]),T(_,l),Z()}var Ge=j('<p class="rounded-xl bg-white/70 p-3 text-sm text-gray-600"> </p>'),Ke=j('<div><div class="flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"><div><p class="text-sm font-semibold text-gray-900"> </p> <p class="text-base text-gray-700"> </p></div> <div> </div></div> <div class="mt-3 space-y-2 text-sm text-gray-700"><p><span class="font-semibold"> </span> </p> <p><span class="font-semibold"> </span> </p> <!></div></div>'),Je=j('<div class="rounded-3xl bg-white p-8 shadow-sm ring-1 ring-gray-100"><h2 class="mb-4 text-2xl font-semibold text-gray-900"> </h2> <div class="space-y-4"></div></div>');function Xe(_,r){J(r,!0);const y=(c,s=le,b=le)=>{var q=Ke(),h=a(q),l=a(h),v=a(l),g=a(v,!0);t(v);var w=o(v,2),M=a(w,!0);t(w),t(l);var L=o(l,2),B=a(L,!0);t(L),t(h);var N=o(h,2),S=a(N),Q=a(S),O=a(Q,!0);t(Q);var W=o(Q);t(S);var p=o(S,2),C=a(p),ae=a(C,!0);t(C);var R=o(C);t(p);var G=o(p,2);{var P=A=>{var D=Ge(),V=a(D,!0);t(D),I(()=>i(V,s().question.explanation)),T(A,D)};ne(G,A=>{s().question.explanation&&A(P)})}t(N),t(q),I((A,D,V,K)=>{H(q,1,`rounded-2xl border px-5 py-4 transition ${s().isCorrect?"border-emerald-200 bg-emerald-50":"border-rose-200 bg-rose-50"}`),i(g,A),i(M,s().question.text),H(L,1,`text-sm font-semibold ${s().isCorrect?"text-emerald-600":"text-rose-600"}`),i(B,D),i(O,V),i(W,` ${(s().userAnswerIndex===null?"—":s().question.options[s().userAnswerIndex]??"—")??""}`),i(ae,K),i(R,` ${s().question.options[s().question.correctAnswer]??""}`)},[()=>u("Question {index}",{values:{index:String(b()+1)}}),()=>s().isCorrect?u("Correct"):u("Incorrect"),()=>u("Your answer:"),()=>u("Correct answer:")]),T(c,q)};let k=Y(U($));const d=ee.subscribe(c=>{E(k,c,!0)});function u(c,s){return te(c,{...s,locale:e(k)})}X(()=>{d()});var f=Je(),m=a(f),z=a(m,!0);t(m);var x=o(m,2);Se(x,21,()=>r.items,Te,(c,s,b)=>{y(c,()=>e(s),()=>b)}),t(x),t(f),I(c=>i(z,c),[()=>u("Question review")]),T(_,f),Z()}var Ze=j('<div class="mx-auto max-w-4xl space-y-8"><!> <!> <!> <!></div>');function lt(_,r){J(r,!0);const y=n(()=>be.params.id??""),k=n(()=>be.params.attemptId??"");let d=Y(U($));const u=ee.subscribe(p=>{E(d,p,!0)}),f=n(()=>Qe(e(y))),m=n(()=>N(e(f),e(d)));let z=Y(U(we(ke)));_e(()=>ze.subscribe(C=>{E(z,C,!0)}));const x=n(()=>e(y)&&e(k)?qe(e(z),e(y),e(k)):null),c=n(()=>e(f)?.passingScore??.8),s=n(()=>e(c)*100),b=n(()=>e(m)?.questions.length??e(x)?.responses.length??0),q=n(()=>e(x)?.score??0),h=n(()=>e(b)>0?e(q)/e(b)*100:0),l=n(()=>!!e(x)?.passed),v=n(()=>!e(m)||!e(x)?null:Le(e(m).questions,e(x).responses)),g=n(()=>e(v)?.items??[]),w=n(()=>e(m)?.title??te("Unknown Quiz",{locale:e(d)})),M=n(()=>e(m)?.description??"");function L(){ve(me("/"))}function B(){ve(me("/quiz/[id]",{id:e(y)}))}X(()=>{u()});function N(p,C){if(p)return p.content[C]??p.content.en??Object.values(p.content)[0]}var S=de(),Q=ue(S);{var O=p=>{Ae(p,{onBack:L})},W=p=>{var C=de(),ae=ue(C);{var R=P=>{Ie(P,{onNavigateHome:L,onViewQuiz:B})},G=P=>{var A=Ze(),D=a(A);Fe(D,{get quizTitle(){return e(w)},onNavigateHome:L,onViewQuiz:B});var V=o(D,2);Ue(V,{get passed(){return e(l)}});var K=o(V,2);We(K,{get quizTitle(){return e(w)},get quizDescription(){return e(M)},get scorePercentage(){return e(h)},get correctAnswers(){return e(q)},get totalQuestions(){return e(b)},get passingScorePercentage(){return e(s)},get passed(){return e(l)}});var re=o(K,2);Xe(re,{get items(){return e(g)}}),t(A),T(P,A)};ne(ae,P=>{e(x)?P(G,!1):P(R)},!0)}T(p,C)};ne(Q,p=>{!e(f)||!e(m)?p(O):p(W,!1)})}T(_,S),Z()}export{lt as component,ct as universal};
