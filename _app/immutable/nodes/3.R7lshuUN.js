import{q as te,e as re,i as se,g as ae}from"../chunks/BrHxgEi2.js";import"../chunks/DsnmJJEf.js";import{p as N,h as B,i as D,j as F,o as Q,f as z,d as S,s as w,r as p,t as M,e as j,b as h,c as U,n as ne,l as e,R as oe,T as ie,a as ue,u as n}from"../chunks/50VUXKQ6.js";import{i as E}from"../chunks/B0ad6a9Q.js";import{g as q}from"../chunks/BoiRO0wq.js";import{D as H,l as Y,t as Z,d as ce,p as le,r as C,c as R,g as me}from"../chunks/DnUozx9-.js";import{p as de}from"../chunks/BILsgExE.js";import{N as fe,B as pe,O as ge}from"../chunks/CvL95dpZ.js";const ve=!1,be=!0,Se=!0,he=()=>Object.values(te).map(g=>({id:g.id})),je=Object.freeze(Object.defineProperty({__proto__:null,csr:be,entries:he,prerender:Se,ssr:ve},Symbol.toStringTag,{value:"Module"}));var ye=z('<span class="rounded-full bg-amber-50 px-3 py-1 text-xs font-semibold tracking-wide text-amber-600 uppercase ring-1 ring-amber-100"> </span>'),xe=z('<div class="mb-6 flex flex-wrap items-center gap-2"></div>'),_e=z('<div class="rounded-3xl bg-white p-6 shadow-sm ring-1 ring-amber-100 sm:p-8"><!> <h1 class="mb-3 text-3xl font-semibold text-gray-900 sm:text-4xl"> </h1> <p class="text-base text-gray-600 sm:text-lg"> </p></div>');function qe(g,m){N(m,!0);const r=(s,o=ne)=>{var d=ye(),b=S(d,!0);p(d),M(k=>j(b,k),[()=>c(o())]),h(s,d)};let u=B(D(H));const L=Y.subscribe(s=>{F(u,s,!0)});function c(s,o){return Z(s,{...o,locale:e(u)})}Q(()=>{L()});var i=_e(),l=S(i);{var y=s=>{var o=xe();re(o,21,()=>m.categories,se,(d,b)=>{r(d,()=>e(b))}),p(o),h(s,o)};E(l,s=>{m.categories.length>0&&s(y)})}var v=w(l,2),x=S(v,!0);p(v);var f=w(v,2),O=S(f,!0);p(f),p(i),M(()=>{j(x,m.title),j(O,m.description)}),h(g,i),U()}var Ce=z('<div class="mx-auto max-w-4xl space-y-8"><!> <!> <!></div>');function Be(g,m){N(m,!0);const r=n(()=>de.params.id??"");let u=B(D(H));const L=Y.subscribe(t=>{F(u,t,!0)});function c(t,a){return Z(t,{...a,locale:e(u)})}const i=n(()=>ae(e(r))),l=n(()=>{const t=e(u),a=e(i);if(a)return J(a,t)}),y=n(()=>e(l)?.questions.length??0),v=n(()=>e(i)?Math.ceil(e(y)*1.5):0),x=n(()=>e(i)?e(i).passingScore*100:0);let f=B(D(structuredClone(ce)));oe(()=>le.subscribe(a=>{F(f,a,!0)}));const O={bestScore:null,lastScore:null,attemptsCount:0,passedCount:0},s=n(()=>e(r)?e(f).inProgress[e(r)]??null:null),o=n(()=>e(r)?me(e(f),e(r)):O),d=n(()=>({attemptsCount:e(o).attemptsCount,bestScore:e(o).bestScore,lastScore:e(o).lastScore})),b=n(()=>(e(u),[c("Read each question carefully before selecting your answer."),c("You can navigate between questions at any time—your answers will stay saved."),c("Submit your quiz once every question feels complete."),c("You need at least {percent}% to pass—aim high and have fun!",{values:{percent:String(Math.round(e(x)))}})])),k=n(()=>{const t=e(u);if(!e(s))return null;const a=e(s).responses.filter(T=>T.isConfirmed).length,_=new Intl.DateTimeFormat(t==="cs"?"cs-CZ":"en-US",{dateStyle:"short",timeStyle:"short"}).format(new Date(e(s).updatedAt));return{confirmedAnswers:a,lastUpdatedLabel:_}}),G=n(()=>(e(u),e(s)?c("Start fresh"):c("Start quiz")));function J(t,a){if(t)return t.content[a]??t.content.en??Object.values(t.content)[0]??void 0}function K(){e(r)&&(e(s)&&R(e(r)),q(C("/quiz/[id]/take",{id:e(r)})))}function V(){e(r)&&q(C("/quiz/[id]/take",{id:e(r)}))}function W(){e(r)&&(R(e(r)),q(C("/quiz/[id]/take",{id:e(r)})))}function A(){q(C("/"))}Q(()=>{L()});var I=ie(),X=ue(I);{var $=t=>{fe(t,{onBack:A})},ee=t=>{var a=Ce(),P=S(a);pe(P,{get title(){return e(l).title},onBack:A});var _=w(P,2);qe(_,{get title(){return e(l).title},get description(){return e(l).description},get categories(){return e(i).categories}});var T=w(_,2);ge(T,{get questionsCount(){return e(y)},get estimatedTimeMinutes(){return e(v)},get passingScorePercent(){return e(x)},get instructions(){return e(b)},get resume(){return e(k)},get summary(){return e(d)},get primaryActionLabel(){return e(G)},onStart:K,onResume:V,onStartOver:W,onCancel:A}),p(a),h(t,a)};E(X,t=>{!e(i)||!e(l)?t($):t(ee,!1)})}h(g,I),U()}export{Be as component,je as universal};
