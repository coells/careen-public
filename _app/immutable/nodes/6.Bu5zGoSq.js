import"../chunks/DsnmJJEf.js";import{v as te,b as k,p as H,f as L,F as t,V as v,r as a,c as D,d as o,s as b,t as M,e as w,a5 as re,al as ae,a as se,a7 as oe,K as X}from"../chunks/DYM3if8Z.js";import{s as V,a as E,i as U}from"../chunks/C7t0kvEG.js";import{t as N,h as ne,c as le,r as ie,d as W,a as Z,s as ce,b as de}from"../chunks/CwuGiosH.js";import{_ as ue,e as J,C as ve,b as ge}from"../chunks/C7JOgiKc.js";import{r as pe}from"../chunks/DRm2eNDt.js";import{Q as he}from"../chunks/DtQ2aSKR.js";import{H as me,a as Y}from"../chunks/CfONtwwO.js";import{D as ee}from"../chunks/Bgg7mOAj.js";import{c as fe}from"../chunks/CmOsYUxD.js";import{s as be,r as xe}from"../chunks/DOda0EG6.js";var ye=te('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 0 1 0 2.828l-7 7a2 2 0 0 1-2.828 0l-7-7A1.994 1.994 0 0 1 3 12V7a4 4 0 0 1 4-4z"></path>');function _e(_,r){const s=xe(r,["$$slots","$$events","$$legacy"]);ue(_,be(()=>s,{children:(c,y)=>{var x=ye();k(c,x)},$$slots:{default:!0}}))}var Ce=L('<section><div class="mb-6"><div class="flex items-center gap-3"><div class="h-1 w-12 rounded-full bg-amber-600"></div> <h2 class="text-3xl font-bold text-gray-900"> </h2></div> <p class="mt-2 text-gray-600"> </p></div> <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3"></div></section>'),$e=L('<div class="space-y-12"></div>');function ze(_,r){H(r,!0);const s=()=>E(N,"$t",c),[c,y]=V(),x=(n,u)=>{let d=()=>u?.().category,h=()=>u?.().quizzes;var m=Ce(),g=o(m),Q=o(g),$=b(o(Q),2),B=o($,!0);a($),a(Q);var S=b(Q,2),O=o(S,!0);a(S),a(g);var q=b(g,2);J(q,21,h,f=>f.id,(f,l)=>{{let T=v(()=>pe("/quiz/[id]",{id:t(l).id}));he(f,{get categories(){return t(l).categories},get title(){return t(l).title},get description(){return t(l).description},get questionCount(){return t(l).questionCount},get estimatedTime(){return t(l).estimatedTime},get href(){return t(T)}})}}),a(q),a(m),M((f,l)=>{w(B,f),w(O,l)},[()=>s()(d()),()=>s()("{count} quizzes available",{count:String(h().length)})]),k(n,m)},C=v(()=>r.sections??[]);var p=$e();J(p,21,()=>t(C),n=>n.category,(n,u)=>{x(n,()=>t(u))}),a(p),k(_,p),D(),y()}var Se=L('<button type="button" class="rounded-full bg-gray-200 px-3 py-1 text-xs font-medium text-gray-600 transition hover:bg-gray-300"> </button>'),ke=L('<label class="block text-sm font-semibold text-gray-700" for="quiz-search"> </label> <div class="mt-2 flex items-center rounded-full border border-gray-200 bg-gray-50 pr-2 focus-within:border-amber-400"><input id="quiz-search" name="quiz-search" type="search" class="flex-1 rounded-full border-none bg-transparent px-4 py-2 text-sm text-gray-700 focus:outline-none"/> <!></div>',1),we=L('<button type="button"> </button>'),Qe=L('<section class="space-y-4 rounded-3xl bg-white p-6 shadow-sm ring-1 ring-gray-100"><div class="flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between"><div class="flex-1"><!></div> <div class="flex flex-wrap gap-2"></div></div></section>');function Te(_,r){H(r,!0);const s=()=>E(N,"$t",c),[c,y]=V(),x=f=>{var l=ke(),T=se(l),P=o(T,!0);a(T);var A=b(T,2),j=o(A);ie(j),j.__input=m;var K=b(j,2);{var R=F=>{var e=Se();e.__click=Q;var i=o(e,!0);a(e),M(z=>w(i,z),[()=>s()("Clear")]),k(F,e)};U(K,F=>{t(u)&&F(R)})}a(A),M((F,e)=>{w(P,F),ne(j,t(d)),le(j,"placeholder",e)},[()=>s()("Search quizzes"),()=>s()("Search by title, topic, or keywords")]),k(f,l)},C=(f,l)=>{let T=()=>l?.().category,P=()=>l?.().isSelected;var A=we();A.__click=()=>g(T());var j=o(A,!0);a(A),M(K=>{W(A,1,`rounded-full border px-4 py-2 text-sm transition ${P()?"border-amber-400 bg-amber-100 text-amber-700":"border-gray-200 bg-white text-gray-700 hover:border-amber-200"}`),w(j,K)},[()=>s()(T())]),k(f,A)},p=ae(),n=v(()=>r.categoryOptions??[]),u=v(()=>!!r.hasActiveSearch),d=v(()=>r.searchTerm??""),h=v(()=>r.selectedCategory??"All");function m(f){const l=f.currentTarget?.value??"";p("search",l)}function g(f){p("selectCategory",f)}function Q(){p("clearSearch")}var $=Qe(),B=o($),S=o(B),O=o(S);x(O),a(S);var q=b(S,2);J(q,20,()=>t(n),f=>f,(f,l)=>{C(f,()=>({category:l,isSelected:t(h)===l}))}),a(q),a(B),a($),k(_,$),D(),y()}re(["input","click"]);var Ae=L('<h1 class="hero-pop mb-6 text-4xl leading-tight font-semibold tracking-tight sm:mb-8 sm:text-5xl"> <!> <br class="hidden sm:block"/> <!> </h1>');function Le(_,r){H(r,!0);const s=()=>E(N,"$t",c),[c,y]=V();me(_,{children:(x,C)=>{var p=Ae(),n=o(p),u=b(n);{let g=v(()=>s()("quizzes"));Y(u,{get text(){return t(g)},class:"-rotate-1"})}var d=b(u),h=b(d,3);{let g=v(()=>s()("thoughtful"));Y(h,{get text(){return t(g)},class:"rotate-1"})}var m=b(h);a(p),M((g,Q,$)=>{w(n,`${g??""} `),w(d,` ${Q??""} `),w(m,` ${$??""}`)},[()=>s()("Bite-size"),()=>s()("and"),()=>s()("feedback")]),k(x,p)},$$slots:{default:!0}}),D(),y()}var je=L('<div class="rounded-xl border border-gray-200 bg-gray-50 p-12 text-center"><div class="mb-4 flex justify-center"><!></div> <h3 class="mb-2 text-xl font-semibold text-gray-900"> </h3> <p class="text-gray-600"> </p></div>');function qe(_,r){H(r,!0);const s=()=>E(N,"$t",c),[c,y]=V();var x=je(),C=o(x),p=o(C);ee(p,{class:"h-16 w-16 text-gray-400"}),a(C);var n=b(C,2),u=o(n,!0);a(n);var d=b(n,2),h=o(d,!0);a(d),a(x),M((m,g)=>{w(u,m),w(h,g)},[()=>s()("No quizzes available"),()=>s()("Adjust your filters or search to discover available quizzes.")]),k(_,x),D(),y()}const Be=(_,r)=>{let s=()=>r?.().icon,c=()=>r?.().label,y=()=>r?.().value,x=()=>r?.().ringClass,C=()=>r?.().backgroundClass,p=()=>r?.().iconClass;var n=Ie(),u=o(n),d=o(u),h=o(d);{let S=v(()=>`h-6 w-6 ${p()}`);fe(h,s,(O,q)=>{q(O,{get class(){return t(S)}})})}a(d);var m=b(d,2),g=o(m),Q=o(g,!0);a(g);var $=b(g,2),B=o($,!0);a($),a(m),a(u),a(n),M(()=>{W(n,1,`rounded-2xl bg-white p-6 shadow-sm ring-1 ${x()}`),W(d,1,`rounded-xl ${C()} p-3`),w(Q,c()),w(B,y())}),k(_,n)};var Ie=L('<div><div class="flex items-center"><div><!></div> <div class="ml-4"><p class="text-sm font-medium text-gray-600"> </p> <p class="text-2xl font-bold text-gray-900"> </p></div></div></div>'),Ee=L('<div class="grid grid-cols-1 gap-4 md:grid-cols-3"></div>');function Oe(_,r){H(r,!0);const s=()=>E(Z,"$activeLocale",y),c=()=>E(N,"$t",y),[y,x]=V(),C=v(()=>r.totalQuizzes??0),p=v(()=>r.categoryCount??0),n=v(()=>r.totalQuestions??0),u=v(()=>(s(),[{icon:ee,label:c()("Total Quizzes"),ringClass:"ring-orange-100",backgroundClass:"bg-gray-50",iconClass:"text-orange-600",value:t(C)},{icon:_e,label:c()("Categories"),ringClass:"ring-purple-100",backgroundClass:"bg-gray-50",iconClass:"text-purple-600",value:t(p)},{icon:ve,label:c()("Total Questions"),ringClass:"ring-cyan-100",backgroundClass:"bg-gray-50",iconClass:"text-cyan-600",value:t(n)}]));var d=Ee();J(d,21,()=>t(u),h=>h.label,(h,m)=>{Be(h,()=>t(m))}),a(d),k(_,d),D(),x()}var Fe=L('<div class="space-y-10"><!> <!> <!> <!> <!></div>');function We(_,r){H(r,!0);const s=()=>E(de,"$sessionStore",y),c=()=>E(Z,"$activeLocale",y),[y,x]=V(),C=ge(),p=["All",...Array.from(new Set(C.flatMap(e=>e.categories))).sort((e,i)=>e.localeCompare(i))];let n=v(s),u=oe("");const d=v(()=>t(n).preferences.catalogFilter??"All"),h=v(()=>t(u).trim().toLowerCase()),m=v(()=>(c(),C.filter(e=>{if(!(t(d)==="All"||e.categories.includes(t(d))))return!1;if(!t(h))return!0;const z=S(e,c());return[z?.title,z?.description,e.categories.join(" ")].filter(Boolean).join(" ").toLowerCase().includes(t(h))}))),g=v(()=>{const e={};return t(m).forEach(i=>{i.categories.forEach(z=>{e[z]||(e[z]=[]),e[z].push(i)})}),Object.entries(e).sort(([i],[z])=>i.localeCompare(z)).map(([i,z])=>({category:i,quizzes:z}))}),Q=v(()=>t(m).reduce((e,i)=>e+(S(i,c())?.questions.length??0),0)),$=v(()=>(c(),t(g).map(({category:e,quizzes:i})=>{const z=i.map(I=>{const G=S(I,c());return G?{id:I.quizId,categories:I.categories,title:G.title,description:G.description,questionCount:G.questions.length,estimatedTime:B(I),passingScore:I.passingScore}:null}).filter(I=>I!==null);return{category:e,quizzes:z}}).filter(e=>e.quizzes.length>0)));function B(e){const i=S(e,c())?.questions.length||0;return Math.ceil(i*.8)}function S(e,i){return e.templates[i]??e.templates.en??Object.values(e.templates)[0]}function O(e){ce.updatePreferences({catalogFilter:e})}function q(e){X(u,e,!0)}function f(){X(u,"")}var l=Fe(),T=o(l);Le(T,{});var P=b(T,2);{let e=v(()=>!!t(h));Te(P,{get categoryOptions(){return p},get searchTerm(){return t(u)},get selectedCategory(){return t(d)},get hasActiveSearch(){return t(e)},$$events:{search:i=>q(i.detail),selectCategory:i=>O(i.detail),clearSearch:f}})}var A=b(P,2);Oe(A,{get totalQuizzes(){return t(m).length},get categoryCount(){return t(g).length},get totalQuestions(){return t(Q)}});var j=b(A,2);{var K=e=>{ze(e,{get sections(){return t($)}})};U(j,e=>{t($).length>0&&e(K)})}var R=b(j,2);{var F=e=>{qe(e,{})};U(R,e=>{t(m).length===0&&e(F)})}a(l),k(_,l),D(),x()}export{We as component};
